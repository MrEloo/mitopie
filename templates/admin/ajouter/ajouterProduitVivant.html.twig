{% extends "layout.html.twig" %}

{% block main %}
	<div class="container">
		<div class="row">
			<div class="col-md-12 mb-3">
				<a href="index.php?route=products_alives" class="btn btn-secondary">Retour</a>
			</div>
		</div>
		<div class="row">
			<div class="col-md-6 offset-md-3">
				<div class="card">
					<div class="card-body">
						<h5 class="card-title">Ajouter un nouveau produit</h5>
						<form method="post" action="index.php?route=ajouter_produitVivant_" enctype="multipart/form-data">
							<div class="form-group">
								<label for="nom">Nom du produit</label>
								<input type="text" class="form-control" id="nom" name="nom">
							</div>
							<div class="form-group">
								<label for="prix">Prix</label>
								<input type="text" class="form-control" id="prix" name="prix">
							</div>
							<div class="form-group">
								<label for="quantite">Quantité</label>
								<input type="number" class="form-control" id="quantite" name="quantite">
							</div>
							<div class="form-group">
								<label for="description">Description</label>
								<textarea class="form-control" id="description" name="description"></textarea>
							</div>
							<div class="form-group">
								<label class="label_image" for="input_file">Media</label>
								<input type="file" accept="image/jpeg, image/png, image/jpg" name="input_file" id="input_file">
							</div>
							<div class="form-group">
								<label for="categorie">ID de catégorie</label>
								<select class="form-control" name="categorie" id="categorie" required>
									{% if produit is defined %}
										{% set selectedCategoryId = produit.categorie.id %}
										<option value="{{ selectedCategoryId }}">{{ produit.categorie.nom }}</option>
									{% endif %}
									{% for categorie in categories %}
										{% if produit is not defined or categorie.id != selectedCategoryId %}
											<option value="{{ categorie.id }}">{{ categorie.nom }}</option>
										{% endif %}
									{% endfor %}
								</select>
							</div>
							<!-- Ajoutez ici d'autres champs que vous souhaitez pour le nouveau produit -->
							<button type="submit" class="btn btn-primary">Ajouter le produit</button>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
